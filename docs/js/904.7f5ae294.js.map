{"version":3,"file":"js/904.7f5ae294.js","mappings":"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","sources":["webpack://vue-threejs/./src/views/FbxLoader.vue","webpack://vue-threejs/./src/views/FbxLoader.vue?5ed0"],"sourcesContent":["<template>\r\n  <div ref=\"containerTest\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\r\n\r\nexport default {\r\n  props: {\r\n    no: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n  setup(props) {\r\n    console.log(props.no);\r\n    const containerTest = ref(null);\r\n    let WIDTH = window.innerWidth;\r\n    let HEIGHT = window.innerHeight;\r\n\r\n    let scene, camera, renderer;\r\n    let controls;\r\n\r\n    let mixers = [];\r\n    let action;\r\n\r\n    const importFbx = async () => {\r\n      let fbx;\r\n      if (props.no === \"0\") {\r\n        const { tauntFbx } = await import(\"../assets/model/modelPack.js\");\r\n        fbx = tauntFbx;\r\n      } else if (props.no === \"1\") {\r\n        const { sneakerFbx } = await import(\"../assets/model/modelPack.js\");\r\n        fbx = sneakerFbx;\r\n      } else if (props.no === \"2\") {\r\n        const { standingFbx } = await import(\"../assets/model/modelPack.js\");\r\n        fbx = standingFbx;\r\n      } else if (props.no === \"3\") {\r\n        const { doughnutFbx } = await import(\"../assets/model/modelPack.js\");\r\n        fbx = doughnutFbx;\r\n      }\r\n      return fbx;\r\n    };\r\n\r\n    const init = async () => {\r\n      const fbx = await importFbx();\r\n      scene = new THREE.Scene();\r\n      scene.background = new THREE.Color(\"#eee\");\r\n      camera = new THREE.PerspectiveCamera(70, WIDTH / HEIGHT, 0.1, 2000);\r\n      camera.position.set(50, 50, 100);\r\n\r\n      renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      renderer.setSize(WIDTH, HEIGHT);\r\n      renderer.shadowMap.enabled = true;\r\n\r\n      containerTest.value.appendChild(renderer.domElement);\r\n\r\n      controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n      const axes = new THREE.AxesHelper(150);\r\n      scene.add(axes);\r\n\r\n      const geometry = new THREE.CylinderGeometry(400, 400, 5, 100);\r\n      const material = new THREE.MeshPhongMaterial({\r\n        color: 0xeeeeee,\r\n      });\r\n      const mesh = new THREE.Mesh(geometry, material);\r\n      mesh.position.set(0, -2, 0);\r\n      mesh.receiveShadow = true;\r\n      scene.add(mesh);\r\n\r\n      {\r\n        var light = new THREE.HemisphereLight(0xffffff, 0x080820, 1);\r\n        light.position.set(100, 100, 100);\r\n        scene.add(light);\r\n      }\r\n      {\r\n        const color = 0xffffff;\r\n        const intensity = 0.6;\r\n        const light = new THREE.PointLight(color, intensity);\r\n        light.castShadow = true;\r\n\r\n        light.position.set(40, 120, 40);\r\n\r\n        light.shadow.mapSize.width = 2048;\r\n        light.shadow.mapSize.height = 2048;\r\n        light.shadow.radius = 5;\r\n\r\n        const sphereSize = 10;\r\n        const pointLightHelper = new THREE.PointLightHelper(light, sphereSize);\r\n        scene.add(pointLightHelper);\r\n        scene.add(light);\r\n      }\r\n\r\n      {\r\n        const near = 100;\r\n        const far = 300;\r\n        const color = \"#eeeeee\";\r\n        scene.fog = new THREE.Fog(color, near, far);\r\n      }\r\n      const fbxLoader = new FBXLoader();\r\n\r\n      fbxLoader.load(\r\n        fbx,\r\n        (object) => {\r\n          console.log(object);\r\n\r\n          object.traverse(function (child) {\r\n            if (child.isMesh) {\r\n              child.castShadow = true;\r\n              child.receiveShadow = true;\r\n            }\r\n          });\r\n\r\n          //애니메이션\r\n          if (object.animations.length > 0) {\r\n            object.mixer = new THREE.AnimationMixer(object);\r\n\r\n            mixers.push(object.mixer);\r\n            if (mixers.length > 0) {\r\n              action = object.mixer.clipAction(object.animations[0]);\r\n            }\r\n          }\r\n\r\n          object.scale.set(0.3, 0.3, 0.3);\r\n          object.position.y = 0;\r\n          scene.add(object);\r\n        },\r\n        (xhr) => {\r\n          console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n\r\n      animate();\r\n      document.addEventListener(\"keydown\", onDocumentKeyDown);\r\n    };\r\n\r\n    let keyCode = 0;\r\n    const onDocumentKeyDown = (event) => {\r\n      keyCode = event.key || event.keyCode;\r\n      if (action) {\r\n        if (keyCode == \"Control\" || keyCode == 17) {\r\n          action.play();\r\n        } else {\r\n          action.stop();\r\n        }\r\n      }\r\n    };\r\n\r\n    const clock = new THREE.Clock();\r\n    const animate = () => {\r\n      const delta = clock.getDelta();\r\n\r\n      for (let i = 0; i < mixers.length; i++) {\r\n        mixers[i].update(delta);\r\n      }\r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n      requestAnimationFrame(animate);\r\n    };\r\n\r\n    onMounted(() => {\r\n      init();\r\n    });\r\n    return { containerTest };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import { render } from \"./FbxLoader.vue?vue&type=template&id=96664b3a&scoped=true\"\nimport script from \"./FbxLoader.vue?vue&type=script&lang=js\"\nexport * from \"./FbxLoader.vue?vue&type=script&lang=js\"\n\nimport \"./FbxLoader.vue?vue&type=style&index=0&id=96664b3a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\GitHub\\\\AssetViewer\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-96664b3a\"]])\n\nexport default __exports__"],"names":["ref","_createElementBlock","_hoisted_1","props","no","type","Number","required","setup","console","log","containerTest","scene","camera","renderer","controls","action","WIDTH","window","innerWidth","HEIGHT","innerHeight","mixers","importFbx","async","fbx","tauntFbx","sneakerFbx","standingFbx","doughnutFbx","init","THREE","background","position","set","antialias","setSize","shadowMap","enabled","value","appendChild","domElement","OrbitControls","axes","add","geometry","material","color","mesh","receiveShadow","light","intensity","castShadow","shadow","mapSize","width","height","radius","sphereSize","pointLightHelper","near","far","fog","fbxLoader","FBXLoader","load","object","traverse","child","isMesh","animations","length","mixer","push","clipAction","scale","y","xhr","loaded","total","error","animate","document","addEventListener","onDocumentKeyDown","keyCode","event","key","play","stop","clock","delta","getDelta","i","update","render","requestAnimationFrame","onMounted","__exports__"],"sourceRoot":""}